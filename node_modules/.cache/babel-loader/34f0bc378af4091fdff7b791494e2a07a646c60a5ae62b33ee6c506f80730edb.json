{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zarin\\\\OneDrive\\\\Documents\\\\web\\\\zencha-web\\\\src\\\\contexts\\\\CartContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext();\nconst cartReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_TO_CART':\n      const existingItem = state.items.find(item => item.id === action.payload.id && item.size === action.payload.size);\n      if (existingItem) {\n        return {\n          ...state,\n          items: state.items.map(item => item.id === action.payload.id && item.size === action.payload.size ? {\n            ...item,\n            quantity: item.quantity + action.payload.quantity\n          } : item)\n        };\n      }\n      return {\n        ...state,\n        items: [...state.items, action.payload]\n      };\n    case 'UPDATE_QUANTITY':\n      return {\n        ...state,\n        items: state.items.map((item, index) => index === action.payload.index ? {\n          ...item,\n          quantity: action.payload.quantity\n        } : item)\n      };\n    case 'REMOVE_ITEM':\n      return {\n        ...state,\n        items: state.items.filter((_, index) => index !== action.payload.index)\n      };\n    case 'CLEAR_CART':\n      return {\n        ...state,\n        items: []\n      };\n    case 'SET_CART_OPEN':\n      return {\n        ...state,\n        isOpen: action.payload.isOpen\n      };\n    default:\n      return state;\n  }\n};\nexport const CartProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(cartReducer, {\n    items: [],\n    isOpen: false\n  });\n  const addToCart = (product, size, quantity = 1) => {\n    var _product$sizes$size;\n    const cartItem = {\n      id: product.id,\n      name: product.name,\n      price: product.sizes ? (_product$sizes$size = product.sizes[size]) === null || _product$sizes$size === void 0 ? void 0 : _product$sizes$size.price : product.price,\n      size: size,\n      image: product.image,\n      quantity: quantity\n    };\n    dispatch({\n      type: 'ADD_TO_CART',\n      payload: cartItem\n    });\n  };\n  const updateQuantity = (index, quantity) => {\n    if (quantity <= 0) {\n      dispatch({\n        type: 'REMOVE_ITEM',\n        payload: {\n          index\n        }\n      });\n    } else {\n      dispatch({\n        type: 'UPDATE_QUANTITY',\n        payload: {\n          index,\n          quantity\n        }\n      });\n    }\n  };\n  const removeItem = index => {\n    dispatch({\n      type: 'REMOVE_ITEM',\n      payload: {\n        index\n      }\n    });\n  };\n  const clearCart = () => {\n    dispatch({\n      type: 'CLEAR_CART'\n    });\n  };\n  const openCart = () => {\n    dispatch({\n      type: 'SET_CART_OPEN',\n      payload: {\n        isOpen: true\n      }\n    });\n  };\n  const closeCart = () => {\n    dispatch({\n      type: 'SET_CART_OPEN',\n      payload: {\n        isOpen: false\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      ...state,\n      addToCart,\n      updateQuantity,\n      removeItem,\n      clearCart,\n      openCart,\n      closeCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n};\n_s(CartProvider, \"poA4Veww5+TwR0FyJH2bSX2O6PI=\");\n_c = CartProvider;\nexport const useCart = () => {\n  _s2();\n  const context = useContext(CartContext);\n  if (!context) {\n    throw new Error('useCart must be used within a CartProvider');\n  }\n  return context;\n};\n_s2(useCart, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","jsxDEV","_jsxDEV","CartContext","cartReducer","state","action","type","existingItem","items","find","item","id","payload","size","map","quantity","index","filter","_","isOpen","CartProvider","children","_s","dispatch","addToCart","product","_product$sizes$size","cartItem","name","price","sizes","image","updateQuantity","removeItem","clearCart","openCart","closeCart","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useCart","_s2","context","Error","$RefreshReg$"],"sources":["C:/Users/zarin/OneDrive/Documents/web/zencha-web/src/contexts/CartContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer } from 'react';\r\n\r\nconst CartContext = createContext();\r\n\r\nconst cartReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_TO_CART':\r\n      const existingItem = state.items.find(\r\n        item => item.id === action.payload.id && item.size === action.payload.size\r\n      );\r\n      \r\n      if (existingItem) {\r\n        return {\r\n          ...state,\r\n          items: state.items.map(item =>\r\n            item.id === action.payload.id && item.size === action.payload.size\r\n              ? { ...item, quantity: item.quantity + action.payload.quantity }\r\n              : item\r\n          )\r\n        };\r\n      }\r\n      \r\n      return {\r\n        ...state,\r\n        items: [...state.items, action.payload]\r\n      };\r\n      \r\n    case 'UPDATE_QUANTITY':\r\n      return {\r\n        ...state,\r\n        items: state.items.map((item, index) =>\r\n          index === action.payload.index\r\n            ? { ...item, quantity: action.payload.quantity }\r\n            : item\r\n        )\r\n      };\r\n      \r\n    case 'REMOVE_ITEM':\r\n      return {\r\n        ...state,\r\n        items: state.items.filter((_, index) => index !== action.payload.index)\r\n      };\r\n      \r\n    case 'CLEAR_CART':\r\n      return {\r\n        ...state,\r\n        items: []\r\n      };\r\n      \r\n    case 'SET_CART_OPEN':\r\n      return {\r\n        ...state,\r\n        isOpen: action.payload.isOpen\r\n      };\r\n      \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(cartReducer, {\r\n    items: [],\r\n    isOpen: false\r\n  });\r\n\r\n  const addToCart = (product, size, quantity = 1) => {\r\n    const cartItem = {\r\n      id: product.id,\r\n      name: product.name,\r\n      price: product.sizes ? product.sizes[size]?.price : product.price,\r\n      size: size,\r\n      image: product.image,\r\n      quantity: quantity\r\n    };\r\n    \r\n    dispatch({ type: 'ADD_TO_CART', payload: cartItem });\r\n  };\r\n\r\n  const updateQuantity = (index, quantity) => {\r\n    if (quantity <= 0) {\r\n      dispatch({ type: 'REMOVE_ITEM', payload: { index } });\r\n    } else {\r\n      dispatch({ type: 'UPDATE_QUANTITY', payload: { index, quantity } });\r\n    }\r\n  };\r\n\r\n  const removeItem = (index) => {\r\n    dispatch({ type: 'REMOVE_ITEM', payload: { index } });\r\n  };\r\n\r\n  const clearCart = () => {\r\n    dispatch({ type: 'CLEAR_CART' });\r\n  };\r\n\r\n  const openCart = () => {\r\n    dispatch({ type: 'SET_CART_OPEN', payload: { isOpen: true } });\r\n  };\r\n\r\n  const closeCart = () => {\r\n    dispatch({ type: 'SET_CART_OPEN', payload: { isOpen: false } });\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        ...state,\r\n        addToCart,\r\n        updateQuantity,\r\n        removeItem,\r\n        clearCart,\r\n        openCart,\r\n        closeCart\r\n      }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useCart = () => {\r\n  const context = useContext(CartContext);\r\n  if (!context) {\r\n    throw new Error('useCart must be used within a CartProvider');\r\n  }\r\n  return context;\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}